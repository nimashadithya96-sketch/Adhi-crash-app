<!DOCTYPE html>
<html lang="si">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ADHI TURBO CRASH SIGNAL APP</title>
    <style>
        /* ‡∑É‡∑è‡∂∏‡∑è‡∂±‡∑ä‚Äç‡∂∫ CSS ‡∑É‡∑ê‡∂ö‡∑É‡∑î‡∂∏‡∑ä */
        body { font-family: sans-serif; background-color: #0d121c; color: #fff; margin: 0; padding: 0; display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh; }
        .container { text-align: center; padding: 20px; max-width: 400px; width: 100%; }
        h1 { color: #ffaa00; margin-bottom: 20px; font-size: 24px; }
        #signalOutput { font-size: 3em; color: #39ff14; margin-top: 10px; font-weight: bold; }
        #loginForm, #permissionError { background: #1e293b; padding: 25px; border-radius: 10px; box-shadow: 0 0 10px rgba(0, 0, 0, 0.5); }
        input[type="text"], input[type="password"] { width: 90%; padding: 12px; margin: 10px 0; border: none; border-radius: 5px; background: #2c3a57; color: #fff; box-sizing: border-box; }
        button { background-color: #00bcd4; color: white; padding: 10px 20px; margin-top: 10px; border: none; border-radius: 5px; cursor: pointer; font-size: 16px; transition: background-color 0.3s; }
        button:hover { background-color: #0096a8; }
        #permissionError h2 { color: #f44336; }
        .social-buttons button { margin: 5px; padding: 10px 15px; font-size: 16px; }
        #timer { font-size: 1.2em; color: #fff; margin-bottom: 15px; }
    </style>
    
    <!-- üü¢ Firebase SDKs are added for connectivity üü¢ -->
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-database.js"></script>
</head>
<body>

    <div class="container">
        <!-- Login Form -->
        <div id="loginContainer">
            <div id="loginForm">
                <h2>Login to ADHI App</h2>
                <input type="text" id="username" placeholder="Username">
                <input type="password" id="password" placeholder="Password">
                <button onclick="handleLogin()">Login</button>
                <p id="loginMessage" style="color: #f44336; margin-top: 10px;"></p>
            </div>
        </div>

        <!-- App Content (Hidden until access is granted) -->
        <div id="appContent" style="display: none;">
            <h1>ADHI TURBO CRASH SIGNAL üöÄ</h1>
            <div id="timer">Next Signal In: 00:00</div>
            <p>Signal will appear here:</p>
            <div id="signalOutput">--</div>
            <button onclick="startSignal()">Start Signal</button>
            <button onclick="logout()" style="background-color: #f44336; margin-left: 10px;">Logout</button>
        </div>

        <!-- Permission Error (Hidden until access is denied) -->
        <div id="permissionError" style="display: none;">
            <h2>üö´ ‡∂¥‡∑ä‚Äç‡∂ª‡∑Ä‡∑ö‡∑Å‡∂∫ ‡∂¥‡∑ä‚Äç‡∂ª‡∂≠‡∑í‡∂ö‡∑ä‡∑Ç‡∑ö‡∂¥ ‡∂ö‡∂ª ‡∂á‡∂≠ üö´</h2>
            <p>App ‡∂ë‡∂ö ‡∂∑‡∑è‡∑Ä‡∑í‡∂≠‡∑è ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∂ß ‡∂î‡∂∂‡∂ß ‡∂Ö‡∑Ä‡∑É‡∂ª ‡∂±‡∑ê‡∂≠.</p>
            <p>‡∂î‡∂∂‡∂ú‡∑ö ‡∂ã‡∂¥‡∑è‡∂Ç‡∂ú ‡∑Ñ‡∑ê‡∂≥‡∑î‡∂±‡∑î‡∂∏‡∑ä‡∂¥‡∂≠ (Device ID):</p>
            <p id="deniedDeviceId" style="color: #ffaa00; font-weight: bold; font-size: 1.1em;"></p>
            <p>Access ‡∂Ω‡∂∂‡∑è ‡∂ú‡∑ê‡∂±‡∑ì‡∂∏‡∂ß ‡∂∏‡∑ô‡∂∏ ID ‡∂ë‡∂ö Admin ‡∑Ä‡∑ô‡∂≠ ‡∂∫‡∑Ä‡∂±‡∑ä‡∂±.</p>
            <button onclick="logout()" style="background-color: #f44336; margin-top: 20px;">Sign out</button>
        </div>
    </div>

    <script>
        // üö®üö®üö® ‡∂¥‡∑í‡∂∫‡∑Ä‡∂ª 2: Firebase Project ‡∂ë‡∂ö ‡∑É‡∑è‡∂Ø‡∑è, ‡∂ë‡∑Ñ‡∑í ‡∑Ä‡∑í‡∑É‡∑ä‡∂≠‡∂ª ‡∂∏‡∑ô‡∑Ñ‡∑í ‡∂∫‡∑ú‡∂Ø‡∂±‡∑ä‡∂± üö®üö®üö®
        // ‡∂î‡∂∂ Firebase Project ‡∂ë‡∂ö ‡∑É‡∑è‡∂Ø‡∑è, Web App ‡∂ë‡∂ö‡∂ö‡∑ä ‡∑É‡∑ë‡∂Ø‡∑ñ ‡∂¥‡∑É‡∑î, ‡∂∏‡∑ô‡∑Ñ‡∑í ‡∂á‡∂≠‡∑í "YOUR_..." ‡∑Ä‡∑í‡∑É‡∑ä‡∂≠‡∂ª ‡∑Ä‡∑ô‡∂±‡∑É‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±.
        var firebaseConfig = {
            apiKey: "YOUR_FIREBASE_API_KEY", 
            authDomain: "YOUR-PROJECT-ID.firebaseapp.com",
            databaseURL: "https://YOUR-PROJECT-ID-default-rtdb.firebaseio.com", 
            projectId: "YOUR-PROJECT-ID",
        };
        
        // ‚õî ‡∂∏‡∑ô‡∂∏ ‡∂ö‡∑ù‡∂©‡∑ä ‡∂¥‡∑ö‡∑Ö‡∑í ‡∑Ä‡∑ô‡∂±‡∑É‡∑ä ‡∂±‡∑ú‡∂ö‡∂ª‡∂±‡∑ä‡∂±!
        if (firebaseConfig.apiKey !== "YOUR_FIREBASE_API_KEY") {
            firebase.initializeApp(firebaseConfig);
            var db = firebase.database();
        } else {
             // ‡∂Ø‡∑ù‡∑Ç‡∂∫‡∂ö‡∑ä ‡∂á‡∂≠‡∑ä‡∂±‡∂∏‡∑ä ‡∂Ø‡∂≠‡∑ä‡∂≠ ‡∂ú‡∂∂‡∂©‡∑è‡∑Ä ‡∂±‡∑ú‡∂∏‡∑ê‡∂≠‡∑í ‡∂∂‡∑Ä‡∂ß ‡∑É‡∂Ω‡∂ö‡∑î‡∂´‡∑î ‡∂ö‡∂ª‡∂∫‡∑í
            var db = null; 
        }
        // ‚õî ---------------------------------
        
        // --- CONSTANTS AND INITIAL SETUP ---
        const LOGIN_KEY = "isLoggedIn";
        const USERS_KEY = "adhiUsers";
        const DEVICE_KEY = "Adhi_Device_UUID";

        function getDeviceID() {
            let id = localStorage.getItem(DEVICE_KEY);
            if (!id) {
                // ‡∑É‡∂ª‡∂Ω ‡∂Ö‡∑Ñ‡∂π‡∑î ID ‡∂ë‡∂ö‡∂ö‡∑ä ‡∂¢‡∂±‡∂±‡∂∫ ‡∂ö‡∂ª‡∂∫‡∑í
                id = Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);
                localStorage.setItem(DEVICE_KEY, id);
            }
            return id;
        }

        function setInitialUsers() {
            if (!localStorage.getItem(USERS_KEY)) {
                // ‚≠ê ‡∂î‡∂∂‡∂ú‡∑ö ‡∂Ü‡∂ª‡∂∏‡∑ä‡∂∑‡∂ö Admin ‡∂ú‡∑í‡∂´‡∑î‡∂∏ ‚≠ê
                const INITIAL_USERS = [
                    { username: "admin96", password: "yoursecurepassword" }, // <-- ‡∂∏‡∑ô‡∂∫ ‡∂î‡∂∂‡∂ú‡∑ö Admin ‡∂ú‡∑í‡∂´‡∑î‡∂∏‡∂∫‡∑í
                ];
                localStorage.setItem(USERS_KEY, JSON.stringify(INITIAL_USERS));
            }
        }

        // --- FIREBASE ACCESS CHECK LOGIC ---
        async function isValidDevice(deviceID) {
            if (!db) {
                console.error("Firebase is not configured. Access denied.");
                return false;
            }
            // Firebase Realtime Database ‡∂ë‡∂ö‡∑ö 'allowedDevices' path ‡∂ë‡∂ö‡∑ô‡∂±‡∑ä ‡∂Ø‡∂≠‡∑ä‡∂≠ ‡∂ö‡∑í‡∂∫‡∑Ä‡∂∫‡∑í
            try {
                const snapshot = await db.ref('allowedDevices/' + deviceID).once('value');
                // ID ‡∂ë‡∂ö Database ‡∂ë‡∂ö‡∑ö ‡∂≠‡∑í‡∂∂‡∑ö ‡∂±‡∂∏‡∑ä true ‡∂∫‡∑Ä‡∂∫‡∑í
                return snapshot.exists(); 
            } catch (error) {
                console.error("Firebase Read Error:", error);
                return false; 
            }
        }
        
        // --- STATE HANDLERS (Async) ---
        async function checkLoginState() {
            const isLoggedIn = localStorage.getItem(LOGIN_KEY) === 'true';
            const loginContainer = document.getElementById('loginContainer');
            const appContent = document.getElementById('appContent');
            const permissionError = document.getElementById('permissionError');
            
            // ‡∂∏‡∑î‡∂Ω‡∑í‡∂±‡∑ä ‡∑É‡∑í‡∂∫‡∂Ω‡∑ä‡∂Ω ‡∑É‡∂ü‡∑Ä‡∂∫‡∑í
            loginContainer.style.display = 'none';
            appContent.style.display = 'none';
            permissionError.style.display = 'none';

            if (isLoggedIn) {
                const deviceID = getDeviceID();
                document.getElementById('deniedDeviceId').innerText = deviceID; // error ‡∑É‡∂≥‡∑Ñ‡∑è ID ‡∑É‡∂ö‡∑É‡∂±‡∑ä‡∂±

                const isAllowed = await isValidDevice(deviceID); 
                
                if (isAllowed) {
                    appContent.style.display = 'block';
                } else {
                    permissionError.style.display = 'block'; // ‡∂Ö‡∑Ä‡∑É‡∂ª ‡∂±‡∑ê‡∂≠‡∑í ‡∂≠‡∑í‡∂ª‡∂∫ ‡∂¥‡∑ô‡∂±‡∑ä‡∑Ä‡∂∫‡∑í
                }

            } else {
                loginContainer.style.display = 'block'; // Login ‡∂≠‡∑í‡∂ª‡∂∫ ‡∂¥‡∑ô‡∂±‡∑ä‡∑Ä‡∂∫‡∑í
            }
        }

        // --- SIGNAL LOGIC ---
        let signalInterval;

        function updateTimer(duration) {
            let timer = duration;
            const display = document.getElementById('timer');
            
            clearInterval(signalInterval); // ‡∂¥‡∑ô‡∂ª ‡∂≠‡∑í‡∂∂‡∑ñ timer ‡∂±‡∑Ä‡∂≠‡∑ä‡∑Ä‡∂±‡∑ä‡∂±

            signalInterval = setInterval(() => {
                let minutes = parseInt(timer / 60, 10);
                let seconds = parseInt(timer % 60, 10);

                minutes = minutes < 10 ? "0" + minutes : minutes;
                seconds = seconds < 10 ? "0" + seconds : seconds;

                display.textContent = "Next Signal In: " + minutes + ":" + seconds;

                if (--timer < 0) {
                    timer = duration; // ‡∂±‡∑ê‡∑Ä‡∂≠ ‡∂¥‡∂ß‡∂±‡∑ä ‡∂ú‡∂±‡∑ä‡∂±
                    generateSignal();
                }
            }, 1000);
        }

        function generateSignal() {
            const signalOutput = document.getElementById('signalOutput');
            
            // ‡∂Ö‡∑Ñ‡∂π‡∑î ‡∂Ω‡∑ô‡∑É GREEN ‡∑Ñ‡∑ù RED signal ‡∂ë‡∂ö‡∂ö‡∑ä ‡∂¢‡∂±‡∂±‡∂∫ ‡∂ö‡∂ª‡∂∫‡∑í
            const signal = Math.random() > 0.5 ? 'GREEN' : 'RED';
            
            signalOutput.innerText = signal;
            signalOutput.style.color = signal === 'GREEN' ? '#39ff14' : '#f44336';
        }

        function startSignal() {
            // ‡∑É‡∑ë‡∂∏ ‡∂≠‡∂≠‡∑ä‡∂¥‡∂ª 90 ‡∂ö‡∂ß ‡∑Ä‡∂ª‡∂ö‡∑ä ‡∂±‡∑ê‡∑Ä‡∂≠‡∑ì ‡∂±‡∑ê‡∑Ä‡∂≠ ‡∂¥‡∂ß‡∂±‡∑ä ‡∂ú‡∂±‡∑í‡∂∫‡∑í
            const signalDurationSeconds = 90; 
            generateSignal(); 
            updateTimer(signalDurationSeconds);
        }

        // --- AUTH LOGIC ---
        function handleLogin() {
            const username = document.getElementById('username').value.trim();
            const password = document.getElementById('password').value.trim();
            const users = JSON.parse(localStorage.getItem(USERS_KEY));
            const loginMessage = document.getElementById('loginMessage');

            const userFound = users.find(user => user.username === username && user.password === password);

            if (userFound) {
                localStorage.setItem(LOGIN_KEY, 'true');
                loginMessage.innerText = '';
                checkLoginState(); 
            } else {
                loginMessage.innerText = '‡∂±‡∂∏ ‡∑Ñ‡∑ù ‡∂∏‡∑î‡∂ª‡∂¥‡∂Ø‡∂∫ ‡∑Ä‡∑ê‡∂ª‡∂Ø‡∑í‡∂∫‡∑í.';
            }
        }

        function logout() {
            localStorage.setItem(LOGIN_KEY, 'false');
            clearInterval(signalInterval); 
            window.location.reload(); 
        }

        // --- INITIAL RUN ---
        setInitialUsers();
        checkLoginState();
    </script>
</body>
</html>
```
***

## ‚öôÔ∏è ‡∂¥‡∑í‡∂∫‡∑Ä‡∂ª 2: Firebase Project ‡∂ë‡∂ö ‡∑É‡∑è‡∂Ø‡∑è, ‡∂ö‡∑ù‡∂©‡∑ä ‡∂ë‡∂ö ‡∂∫‡∑è‡∑Ä‡∂≠‡∑ä‡∂ö‡∑è‡∂Ω‡∑ì‡∂± ‡∂ö‡∂ª‡∂±‡∑ä‡∂±

‡∂î‡∂∂ ‡∂Ø‡∑ê‡∂±‡∑ä ‡∂ö‡∑Ö ‡∂∫‡∑î‡∂≠‡∑ä‡∂≠‡∑ö ‡∂â‡∑Ñ‡∂≠ ‡∂ö‡∑ù‡∂©‡∑ä ‡∂ë‡∂ö‡∑ö ‡∂á‡∂≠‡∑í `YOUR_...` ‡∂∫‡∂± ‡∂≠‡∑ê‡∂±‡∑ä, ‡∂î‡∂∂‡∂ú‡∑ö‡∂∏ Firebase ‡∑Ä‡∑í‡∑É‡∑ä‡∂≠‡∂ª ‡∂∏‡∂ú‡∑í‡∂±‡∑ä ‡∂¥‡∑ä‚Äç‡∂ª‡∂≠‡∑í‡∑É‡∑ä‡∂Æ‡∑è‡∂¥‡∂±‡∂∫ ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∂∫‡∑í.

### A. Firebase ‡∑Ä‡∑ô‡∂≠ ‡∂∫‡∂±‡∑ä‡∂±

1.  [**Firebase Console**](https://console.firebase.google.com/) ‡∑Ä‡∑ô‡∂≠ ‡∂∫‡∂±‡∑ä‡∂±.
2.  **"Add project"** ‡∂ö‡∑ä‡∂Ω‡∑í‡∂ö‡∑ä ‡∂ö‡∂ª, Project ‡∂ë‡∂ö‡∂ö‡∑ä ‡∑É‡∑è‡∂Ø‡∂±‡∑ä‡∂±.
3.  Project ‡∂ë‡∂ö ‡∂≠‡∑î‡∑Ö **Web App** ‡∂ë‡∂ö‡∂ö‡∑ä ‡∑É‡∂ö‡∑É‡∑è **`firebaseConfig`** ‡∑Ä‡∑í‡∑É‡∑ä‡∂≠‡∂ª ‡∂Ω‡∂∂‡∑è ‡∂ú‡∂±‡∑ä‡∂±.

### B. Realtime Database ‡∑É‡∂ö‡∑É‡∂±‡∑ä‡∂±

1.  ‡∑Ä‡∂∏‡∑ä ‡∂¥‡∑ê‡∂≠‡∑ä‡∂≠‡∑ö ‡∂∏‡∑ô‡∂±‡∑î‡∑Ä‡∑ô‡∂±‡∑ä **Build > Realtime Database** ‡∑Ä‡∑ô‡∂≠ ‡∂∫‡∂±‡∑ä‡∂±.
2.  **"Create Database"** ‡∂ö‡∑ä‡∂Ω‡∑í‡∂ö‡∑ä ‡∂ö‡∂ª, **"Start in locked mode"** ‡∂≠‡∑ù‡∂ª‡∑è Enable ‡∂ö‡∂ª‡∂±‡∑ä‡∂±.
3.  **Rules** ‡∂ß‡∑ê‡∂∂‡∑ä ‡∂ë‡∂ö‡∂ß ‡∂ú‡∑ú‡∑É‡∑ä, ‡∂ë‡∂∏ Rules ‡∂¥‡∑Ñ‡∂≠ ‡∂¥‡∂ª‡∑í‡∂Ø‡∑í ‡∑Ä‡∑ô‡∂±‡∑É‡∑ä ‡∂ö‡∂ª **Publish** ‡∂ö‡∂ª‡∂±‡∑ä‡∂±:

    ```json
    {
      "rules": {
        "allowedDevices": {
          // Admin App ‡∂ë‡∂ö‡∂ß ‡∂¥‡∂∏‡∂´‡∂ö‡∑ä ‡∂Ω‡∑í‡∑Ä‡∑ì‡∂∏‡∂ß ‡∂Ö‡∑Ä‡∑É‡∂ª ‡∂Ø‡∑ì‡∂∏ (‡∂∏‡∑ô‡∂∫ ‡∂Ö‡∂¥‡∂ú‡∑ö ‡∑É‡∂ª‡∂Ω‡∂∏ ‡∂Ü‡∂ª‡∂ö‡∑ä‡∑Ç‡∑è‡∑Ä‡∂∫‡∑í)
          ".write": "true", 
          // Crash App ‡∂ë‡∂ö‡∂ß ‡∂ö‡∑í‡∂∫‡∑Ä‡∑ì‡∂∏‡∂ß ‡∂Ö‡∑Ä‡∑É‡∂ª ‡∂Ø‡∑ì‡∂∏
          ".read": "true" 
        },
        ".read": "false",
        ".write": "false"
      }
    }
